#!/usr/bin/env ruby

def usage
  puts "Usage: moss <path> <path>"
  exit 0
end

def main
  usage unless ARGV.length == 2

  output = `git diff #{ if $stdout.isatty then "--color-words" else "" end } --no-index #{ARGV.join ' '}`

  puts output
end

begin
  main
rescue Interrupt
  nil
end
